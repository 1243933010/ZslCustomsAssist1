<?xml version="1.0"?>
<configuration>
  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net" />
  </configSections>
  <log4net>
    <root>
      <!--控制级别，由低到高: ALL|DEBUG|INFO|WARN|ERROR|FATAL|OFF-->
      <!--比如定义级别为INFO，则INFO级别向下的级别，比如DEBUG日志将不会被记录-->
      <!--如果没有定义LEVEL的值，则缺省为DEBUG-->    
      <level value="ALL" />
      <appender-ref ref="LogFileAppender" />
      <appender-ref ref="ConsoleAppender" />
    </root>
    <logger name="Log4NetTest.LogTest">
      <level value="DEBUG" />
    </logger>

    <!-- 日志输出格式化ConversionPattern的设置：
      %m(message):输出的日志消息，如ILog.Debug(…)输出的一条消息
      %M(method):输出方法名
      %n(new line):换行
      %d(datetime):输出当前语句运行的时刻
      %r(run time):输出程序从运行到执行到当前语句时消耗的毫秒数
      %t(thread id):当前语句所在的线程ID
      %p(priority): 日志的当前优先级别，即DEBUG、INFO、WARN…等
      %c(class):当前日志对象的名称
      
      例如：
             模式字符串为：%-10c -%m%n
             代码为：
      ILog log=LogManager.GetLogger(“Exam.Log”);
      log.Debug(“Hello”);
          则输出为下面的形式：
      Exam.Log       - Hello
      %L：输出语句所在的行号
      %F：输出语句所在的文件名
      %-数字：表示该项的最小长度，如果不够，则用空格填充
      -->
    <appender  name="LogFileAppender" type="log4net.Appender.RollingFileAppender" >
      <param name="File" value="runtimes\\Logs\\" />
      <!--日志路径以及命名规则-->
      <param name="AppendToFile" value="true" />
      <param name="Encoding" value="utf-8" />
      
      <!-- 切割最多文件数 -1表示不限制产生日志文件数 -->
      <param name="MaxSizeRollBackups" value="-1"/>
      <!-- 每个文件的大小限制  -->
      <param name="MaximumFileSize" value="50MB"/>
      <!-- RollingStyle : Composite 综合 ; Size 按大小 ; Date 按时间 -->
      <param name="RollingStyle" value="Composite" />

      <param name="DatePattern" value="yyyy-MM-dd&quot;.log&quot;"/>
      <param name="StaticLogFileName" value="false" />
      <layout type="log4net.Layout.PatternLayout,log4net">
        <param name="ConversionPattern" value="[%class-%method][%line][%p][%t] %d--%m%n" />
		<param name="Header" value="程序开始>>>>>>&#13;&#10;" />
        <param name="Footer" value="程序关闭!!!!!!&#13;&#10;" />
      </layout>
    </appender>

    <appender name="ConsoleAppender"  type="log4net.Appender.ConsoleAppender" >
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern"  value="[%class-%method][%line][%p][%t] %d--%m%n" />
      </layout>
    </appender>
    
  </log4net>
</configuration>